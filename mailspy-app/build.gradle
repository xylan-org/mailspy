plugins {
    id "java"
    id "org.springframework.boot" version "${springBootVersion}"
}

description = "MailSpy :: App"
sourceCompatibility = "${sourceCompatibility}"

configurations {
    developmentOnly
    runtimeClasspath {
        extendsFrom developmentOnly
    }
}

dependencies {
    runtimeOnly project(":mailspy-core")

    implementation "ch.qos.logback:logback-classic"
    implementation "org.springframework.boot:spring-boot-starter"
    implementation "org.springframework.boot:spring-boot-starter-web"
    implementation "org.springframework.boot:spring-boot-starter-security"

    implementation "jakarta.mail:jakarta.mail-api" // TODO remove
    implementation "com.sun.mail:jakarta.mail" // TODO remove
    implementation "org.springframework:spring-context-support" // TODO remove

    developmentOnly "org.springframework.boot:spring-boot-devtools"

    compileOnly "org.projectlombok:lombok"
    annotationProcessor "org.projectlombok:lombok"
}

bootJar {
    mainClassName = "org.xylan.mailspy.app.MailSpyApplication"
}
